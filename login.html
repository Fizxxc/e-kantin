<!DOCTYPE html>
<html>
<head>
  <title>Login User</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.lordicon.com/lordicon.js"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center">

  <div class="bg-white/20 backdrop-blur-xl p-8 rounded-2xl shadow-xl w-[360px] text-center">
    
    <lord-icon src="https://cdn.lordicon.com/egmlnyku.json"
      trigger="loop" style="width:80px;height:80px">
    </lord-icon>

    <h2 class="text-2xl font-bold text-white mt-4 mb-6">Login User</h2>

    <input id="email" class="w-full p-3 rounded-lg border mb-3" placeholder="Email">
    <input id="pass" class="w-full p-3 rounded-lg border mb-5" type="password" placeholder="Password">

    <button onclick="doLogin()" class="w-full bg-indigo-700 text-white p-3 rounded-lg shadow-md">
      Login
    </button>

    <p class="text-white mt-4 text-sm">
      Belum punya akun?
      <a href="register.html" class="underline">Register</a>
    </p>

  </div>

  <script type="module">
    import { loginUser } from "./js/firebase.js";

    async function doLogin() {
      const email = document.getElementById("email").value;
      const pass  = document.getElementById("pass").value;

      try {
        await loginUser(email, pass);
        Swal.fire("Berhasil", "Login user sukses", "success")
          .then(() => location.href = "index.html");
      } catch (e) {
        Swal.fire("Gagal", "Email atau password salah", "error");
      }
    }
  </script>

</body>
</html>
