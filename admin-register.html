<!DOCTYPE html>
<html>
<head>
  <title>Register Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.lordicon.com/lordicon.js"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-orange-500 to-yellow-500 flex items-center justify-center">

  <div class="bg-white/20 backdrop-blur-xl p-8 rounded-2xl shadow-xl w-[360px] text-center">

    <lord-icon src="https://cdn.lordicon.com/gqdnbnwt.json"
      trigger="loop" style="width:80px;height:80px"></lord-icon>

    <h2 class="text-2xl text-white font-bold mb-6">Daftar Admin</h2>

    <input id="email" class="w-full p-3 rounded-lg border mb-3" placeholder="Email">
    <input id="pass" class="w-full p-3 rounded-lg border mb-5" type="password" placeholder="Password">

    <button onclick="doRegister()" class="w-full bg-yellow-700 text-white p-3 rounded-lg">Register Admin</button>

    <p class="text-white mt-4 text-sm">
      Sudah punya akun? <a href="/admin-login" class="underline">Login Admin</a>
    </p>

  </div>

  <script type="module">
    import { registerAdmin } from "./js/firebase.js";

    async function doRegister() {
      try {
        await registerAdmin(email.value, pass.value);
        Swal.fire("Sukses", "Admin berhasil dibuat", "success")
          .then(() => location.href = "/admin-login");
      } catch (err) {
        Swal.fire("Gagal", "Email sudah dipakai atau error", "error");
      }
    }
  </script>

</body>
</html>
